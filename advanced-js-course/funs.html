<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <script type="text/javascript">
    "use strict";
    var val = 0;


    // Function declarations are hoisted to the top.
    // arguments : arguments array
    // arguments.callee : code de la fonction appelée
    // Pour écrire une récursion propre en JS : arguments.callee();
    function doSome (ar) {
      return function() {
        alert(ar);
      }
    }
    var val = doSome('Hello closure');
    //val();
    // Lâche la référence à ar, gestion de mémoire en JS.
    //val = null;

    //doSome("hello world");

    (function() {
      var i = 0;
      function nameGen () {
        var name = "custom" + i;
        i++;
        return name;
      }
      alert(8);
    })();

    var util = (function () {
      var i = 0;
      return {
        nameGen: function () {
          var name = "C" + i;
          i++;
          return name;
        }
      }
    })();

    val = util.nameGen();

    console.log(val);
  </script>
</body>
</html>
